<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Stephanie J. Lax" />

<meta name="date" content="2016-03-29" />

<title>rprev Prevalence Vignette</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">rprev Prevalence Vignette</h1>
<h4 class="author"><em>Stephanie J. Lax</em></h4>
<h4 class="date"><em>2016-03-29</em></h4>
</div>


<p>This document tests the ability of the rprev package to predict prevalence from a synthetic patient dataset.</p>
<pre><code>## 
## Call:
## survreg(formula = Surv(survival_time, indicator) ~ age_initial + 
##     sex, data = registry_data_r)
##               Value Std. Error      z         p
## (Intercept) 12.4687     0.2007  62.12  0.00e+00
## age_initial -0.0524     0.0021 -24.99 7.02e-138
## sex         -2.5590     0.1417 -18.05  7.33e-73
## Log(scale)   0.0537     0.0218   2.47  1.36e-02
## 
## Scale= 1.06 
## 
## Weibull distribution
## Loglik(model)= -8630.8   Loglik(intercept only)= -9295.2
##  Chisq= 1328.67 on 2 degrees of freedom, p= 0 
## Number of Newton-Raphson Iterations: 5 
## n=1621 (124 observations deleted due to missingness)</code></pre>
<div id="prevalence-calculations" class="section level2">
<h2>Prevalence Calculations</h2>
<div id="counted-prevalence" class="section level3">
<h3>Counted Prevalence</h3>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data), registry_years, 
                                   registry_start_year, registry_end_year)
counted_prevalence</code></pre>
<pre><code>## [1]  48  65  49  56  54  77  77 136</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence2 &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Males&quot;</span>), registry_years, 
                                   registry_start_year, registry_end_year)
counted_prevalence2</code></pre>
<pre><code>## [1] 23 35 26 27 28 44 29 39</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence4 &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Females&quot;</span>), registry_years, 
                                   registry_start_year, registry_end_year)
counted_prevalence4</code></pre>
<pre><code>## [1] 25 30 23 29 26 33 48 97</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence2 +<span class="st"> </span>counted_prevalence4</code></pre>
<pre><code>## [1]  48  65  49  56  54  77  77 136</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence5 &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">age_division =</span> <span class="st">&quot;Adult&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                                    registry_years, registry_start_year, registry_end_year)
counted_prevalence5</code></pre>
<pre><code>## [1]  42  62  40  51  52  72  72 133</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence7 &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">age_division =</span> <span class="st">&quot;Paediatric&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                                    registry_years, registry_start_year, registry_end_year)</code></pre>
<pre><code>## Warning in counted_prevalence(load_data(registry_data, age_division =
## &quot;Paediatric&quot;, : warning: low number of events.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence7</code></pre>
<pre><code>## [1] 6 3 9 5 2 5 5 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence5 +<span class="st"> </span>counted_prevalence7</code></pre>
<pre><code>## [1]  48  65  49  56  54  77  77 136</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence8 &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">age_division =</span> <span class="st">&quot;Paediatric&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>,
                                              <span class="dt">sex =</span> <span class="st">&quot;Males&quot;</span>), 
                                    registry_years, registry_start_year, registry_end_year)</code></pre>
<pre><code>## Warning in counted_prevalence(load_data(registry_data, age_division =
## &quot;Paediatric&quot;, : warning: low number of events.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence8</code></pre>
<pre><code>## [1] 2 0 2 0 1 2 2 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence9 &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">age_division =</span> <span class="st">&quot;Paediatric&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>,
                                              <span class="dt">sex =</span> <span class="st">&quot;Females&quot;</span>), 
                                    registry_years, registry_start_year, registry_end_year)</code></pre>
<pre><code>## Warning in counted_prevalence(load_data(registry_data, age_division =
## &quot;Paediatric&quot;, : warning: low number of events.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence9</code></pre>
<pre><code>## [1] 4 3 7 5 1 3 3 2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">counted_prevalence8 +<span class="st"> </span>counted_prevalence9</code></pre>
<pre><code>## [1] 6 3 9 5 2 5 5 3</code></pre>
</div>
<div id="predicted-prevalence" class="section level3">
<h3>Predicted Prevalence</h3>
<div id="total" class="section level4">
<h4>Total</h4>
<pre class="sourceCode r"><code class="sourceCode r">N_years &lt;-<span class="st"> </span><span class="dv">20</span>

prevalence_total &lt;-<span class="st"> </span><span class="kw">prevalence</span>(<span class="kw">load_data</span>(registry_data), registry_years, registry_start_year, 
                               registry_end_year, N_years, 
                               <span class="dt">daily_survival_males =</span> daily_survival_males, 
                               <span class="dt">daily_survival_females =</span> daily_survival_females, 
                               <span class="dt">cure_time =</span> cure*<span class="dv">365</span>)

by_year_total &lt;-<span class="st"> </span>prevalence_total[[<span class="dv">1</span>]]
by_year_total</code></pre>
<pre><code>##  [1] 164.941  97.289  88.236  64.822  55.547  61.694  63.169  56.912
##  [9]  60.052  58.535  56.926  55.244  54.238  52.728  51.159  50.059
## [17]  48.538  47.211  45.642  44.314</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prev_chisq</span>(<span class="kw">load_data</span>(registry_data), registry_years, registry_start_year, registry_end_year, 
           <span class="dt">by_year =</span> by_year_total)</code></pre>
<pre><code>## [1] 0.02008473</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">post_age_dist_total &lt;-<span class="st"> </span>prevalence_total[[<span class="dv">2</span>]]
<span class="kw">hist</span>(post_age_dist_total, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r">observed &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data), registry_years, registry_start_year, 
                               registry_end_year)
by_year_total[<span class="dv">1</span>:(registry_end_year -<span class="st"> </span>registry_start_year +<span class="st"> </span><span class="dv">1</span>)] &lt;-<span class="st"> </span><span class="kw">rev</span>(observed)
observed_post_age_dist_total &lt;-<span class="st"> </span>
<span class="st">  </span>registry_data_r$age_initial[registry_data_r$indicator_censored_at_index ==<span class="st"> </span><span class="dv">0</span>]
<span class="kw">hist</span>(observed_post_age_dist_total, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAGACAMAAAByRC0tAAAAbFBMVEUAAAAAADoAAGYAOpAAZrY6AAA6ADo6AGY6OgA6kNtmAABmADpmZmZmkJBmtv+QOgCQOjqQZgCQkGaQtpCQ2/+2ZgC2Zma2tma225C2/7a2/9u2///bkDrbtmbb////tmb/25D//7b//9v///9v1tZVAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAR+klEQVR4nO2d2WLjthVA5bGdxkorp4nZNh3WtKz//8cSK8HNFnBBiSDPeZiRKPBiOwLBxdDhAiDgcO8CQNkgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQibifQ5+vh8d38/+TfBPzrZ+4cq8OhzWq89UeOnJLCZKijyvea1htn1d8yESOJtQh0Pmbp1pCm9efwMtp8P4Gy1HFSoFHkcVbDLYULNCJTt4bUh4e3ic33EyhLzpNBRhvHqYZbChfIvqnVIKFeqKONruHHczdstBsf3nTFWxf+fFY+6I+VF+fj4UkNMScVIxTFB9Ah/Sdd3DbgX8eDbT1fgEtwxLO5/Wr2bvd8ufSOh125AmxYuzGoxriOg8LaMoZR5w6+NsVs6wUpB83ptvgcNyGQbgFdL1c/u0UlbJOouv7abX58b8zHbQO0AgV0jdcF6AkUxK2CfboCuIDd1sf/KT3tQBZ8aso1csGF1TkG2Y3r2NFVp1fbILN++7lQc63XL0yvOe2WLsciBXJYgdQoolvxxY2w7ffDtMyL3v6km8I0hHXqyQ4JqpFfLn4MclOdMEDdG3/85krH0tFHBWg36B11buZT09DBp2G5AswG82GQ3biOvRZx1elFDTILCFLMtF6vNMPm1FuCHLcgUFsRX29TYz+Cu2ZU7WgEOrk49cH2fVt/8689yHRhLu649zaxuTKb1eugALa/6jC32o75L71Pw3IFVGanoOjDLKanL6Y6YdQws14GPsVM640Sj5uzy3ELAtktbmby01dKdb173XPBxXCDh/m3EygMEAjU22xb0ubhCqDnBnZ0dzu2207tV9zNHMyn7hxgYg70c1D0QRbjbu6qE9Y2LEovrc93uvVGpZmo9jhHKXedA7mJzKk7guhGasflk3sdCqSrbz6ZFigMEAjU21wFrdoVoDl0vRbo+tQmf7qEn/bKFWDfh0XX2Q3r2G+RfnVMkrAoHWGK6dYblWZQbaOUy3ETAl26M4mrRiBjyhcCRY5AQQH0aGPxO9b6zOpkx6J+rCtHoFEdA4LqDEag02VEmGK69UalGVd7IkcpdxXo83c3G/l2DqS7Qn+V/KxkQqDr5kDdZKUrgPu2KvyO5+PDH64U/tO4OdC4jh1BdQZzoIkLZaM50FeR55ozyHELApmTBHdOqjpt/izMjUDm2D83Al15FuZOl8ICVPZ448ui8Ndjgk/jzsLGdewIqjM4C/OZBQzPwr6KPNGctb2M5nLcgkDuMoWqa9O7cPF0GV4H6uZAX02iL2GAsFWDzRPXgeyVSfey27FxE5Hg016Ajt7WXimGdQxbxKebuA40vI7e5TDXeh3j5tRb/tvluAmBzNmNqXl1cF8af8quv22js7CHt9qP82OBggC9r2W3uXclOiiA7sLe3OUSDAPdp6YnTxNzINU9NklQjXEdwyax1enVtpdZLwub72zr9dIOmrOy55A2x/IESqTKU8/FyXOLrZTadqxXoEofutuv0NSMcn0IBSqsth3rFchdDpm8pb4K/AWbqZur1+wzsX1y41WtEJU4H+sVyM4lVzyk5xRosrYIBJsHgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCAiTiC3IEmOdQRgE0QJVLtlVJqJnxCAXRIj0Odrt47Tiv9kHW5JjEDno1/8seEgBhpGIBAROQeyQxBzILDEnYW5ta0Zf8DCdSAQgUAgIk6g2i+hy1kYaOIm0fr3SfTy2Qh0DYfruXdRU4k/jf98VaukI9A1XN+6uxDIXUisHt8R6CoQqIe/kFg9IdBVIFAfp83ot45gGgQa4C5Ff74i0DUgEIhAIBCBQAN4IjEOBOoz+0Ri+dfDlgGBelzxPFCx7bAMCNTjiicSi22HZUCgHoxAsSBQn++fSCy2HZYBgQZ8+0Rise2wDAh053Clg0B3Dlc6CDTH3N34YtthGRDozuFKB4HuHK50EOjO4UoHgQZ8ezO12HaIYYlH5YttuMzLuxTbDjEsoUWxDcetjHgQKICbqfEgUAAjUDwIFMDN1HgQKICbqfEgUADXgeJBoAAEigeBAhAoHgQKQKB4ECgAgeJBoAAEigeBAhAoHgQKQKB4ECgAgeJBoAAEigeBAhAoHgQKQKB4ECgAgeJBoAAEigeBAhAoHgQKQKB4ECgAgeJBoAAEigeBAhAoHgQKQKB4ECgAgeJBoAAEigeBAhAoHgQKQKB4FhGo1F/HRKB47jwCrauNESgeBArIU5qVDq8LgUABjEDxIFAAAsWDQAEIFA8CBSBQPAgUgEDxIFAAAsWDQAEIZFnkUjAC3TncDVmkBxHozuFuCAKlgUAWBEoDgSwIlAYCWRAoDQSyIFAaCGRBoDQQyIJAafjSnI+Hp4zhigOB0ghKUx8Oc7+hkhKuMBAojX5pxA6tq3IxIFAaw9IohWZ/ETU+XDkgUBq90jStPafL5+vsrznFhSsKBEqjK436LTBjztzvWUaFKw0ESiM4C3t4yxiuOBAojU6g34w/guHnsrbKxYBAaYwEqhEoX9L9CFR1j9txGp8v6X4E6kagTOGKA4HSiCvN56sZpWYPc+uqXAwIlEZUaWp3fNvg78YjUBqmNOfji/tJ+C+uQ3++em3qmWuN66pcDAiURkxpzseTezl3sr+uysWAQGnElIYRKDbprgRqD2PqVupX98Hqgx2CmAPdL+XK2rgrTfX4/vH8dKm+eqzMTZRmLVtX5WJAoDSCe2GndmA5cSsjZ9K9CVS18nArI2PSPQnUHrvOx8f381H0ZPS6KhcDAqXRex7o4e3zVfZk/boqFwMCpRF3Hai75cp1oHulXFkbR5Xm8/W7CdK6KhcDAqXRlebbG6U6zTdHuHVVLgYESiOYRF9z+tUcTl9+vq7KxYBAaQSn8dI/KuyFKw4ESqN3HShjuOJAoDR8aaQn8INwxYFAaXSl+W56o+CJxLikexLoigfK5p9I3MCv9SBQGjwPZEGgNHgi0YJAaQSlaQ9ij+/VFyfzjECxSXclUPPwVqu78V8YxBOJkUn3JJAaXtS48uXzQDyRGJd0TwKpCY4SiCcSMybdk0BuBKrSV5e6rK1yMSBQGsM5UH3F5cTL/Boe66pcDAiURv8s7HAQrjK1rsrFgEBpZC7NuioXAwKlgUAWBEpjcC/smxk0N1Pjku5IoMpMnusvFyhjeZfIpPsRqHGT54/n+bMwbmXEJt2NQMHTZF/8bTw3U2OT7kag4A7YF7cyGIFik+5IoG/HFkV5N1OX+DF4BAqJEqi8m6l37kEESgu3HhBoaRAoOuXdBVrisJyME+jbZRNiwq2HTQq0RNBkNn4ro5geRKBFwokppgcRaJFwYorpQQRaJJyYYnoQgRYJN5fLAuchCJRGmQLdNeUWs08HgaJTbjH7dBAoOuUWs08HgaJTbjH7dBAoOuUWs08HgaJTbjH7dBAoOuUWs08HgaJTbjH7dBAoOuUWs08HgaJTbjH7dBAoOuUWs08HgaJTbjH7dBAoOuUWs08HgaJTbjH7dBAoOuUWs08HgaJTbjH7dBAoOuUWs08HgaJTbjH7dBAoOuUWs08nTx43/VvITfbgzgVaKpw4l2J6EIEWCSfOpZgeRKBFwolzKaYHEWiRcOJciulBBFoknDiXYnoQgRYJJ86lmB5EoEXCiXMppgcRaJFw4lyK6UEEWiScOJdiehCBxOEiltzYYA8ikDjcvnsQgcTh9t2DCCQOt+8eRCBxuH33IAKJw+27BxFIHG7fPYhA4nD77kEEEofbdw8ikDjcvnsQgcTh9t2DCCQOt+8eRCBxuH33IAKJw+27BxFIHG7fPYhAM+GWeEZjiz2IQDPhimnCfWefTlwen69msJj9XVUEKjP7dKLyqA8v5kXjXnwbrpgm3Hf26cTk8fnqtakf368LV0wT7jv7dGLyuOLX5RGozOzTYQQiexGRcyA7BDEH2lj26cTlcT6as7CZ8QeBVpb9EhfhkkuTFu7eTUj2ubPPtud14bbYhPvOXrQnFxLJXrInFxLJXrInp/FkL9qTC4lkL9qTEYjsZXtyIZHsZXtyIZHss+15XbgtNuG+s8+253XhttiE+85etCcXEslesufshcT5m3IR9/PgjtxEoCtO42FvZL6QCHuDEQhEZL6QCHsj84VE2BuZrwPB3kAgEJEoUH3tWdh9r27AtaRpcFl+BFok/hJBiynoymqPQAvGLCcoAq0yZjlBV3MzVRj/jkGLKejKap/nZmqm+NeyribcQtD13kzdQRNuIehtBEq5mbqDJtxCUEagVcYsJ+jN5kDRN1N30IRbCLqav8qAvcG9MBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBiEUFag6Hh7eM8fQTtS/5I1f65nDOmB/Ph8PTJXPQuq39KWfQj7/97IVLibukQE1bmiZjP3++tsFq1TF5Izf66YKcMZs24PmYuaC1iqUMyhX0fNSPBfpwSXEXFMg8f1Y9ZQv48ay+f/WPn3kjn49KoJwxTazMBf18fTKxcgVtzB9H+HBpcRcUyPd33rDtdyRv5Prxn61AOWN+/GK/xjmDeoEyBW0OL/rBZB8uLe6SAulmzL4UVdVWNWfkNpiaA+WM2fz466gna1kL6g5h+YIagVy4tLgLCmQOpzknQTpq2zE5I6uBWwmUM2atjg1qxMjbBHaOmy+olsWHS4tbmkCNm0Nn6+xWnuwCPdjvctYmaIfe9niT8+uzcoGWOISZp/kzRtahch/CzDyinVPkDNrNVfZyCFtgEm3/NDZj5Noub3LKWVrTCW2HZA3qBoh8QVc+ic5+Gu//rCh35Crzabz5C8wm72m86d+sQZt1n8Znv5CoJgCLRK5yX0isnZE5g7o5UL6gzbovJOrjQ84ptD3cqJB5I5tbGTljNu6eS86gVe6gdr7jw6XE5WYqiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIGKDApllLCK5clGBJiG0Dh78ZPogyuyb3i6rBYEM1wmU2KeD4L0oV75ZLQhkQKBEtiSQXVPl4/kfz2YdFLVevF6TqjafnH/7w25o9JLlwWopfwR9/PHLn8/divhBJPVv+IvnlVs6vnIRfEyPDa5tmIhi35h87BsbFoFujFoCVy0P//HcdqVaiUkPRWprbTecj4/vdrnlx3e3US/c1IQL47T9eLJrwvuQ5k2/T9ViXno9TR/Bx+zS2I/UnpNR9BuXj37jwiLQbTErtOk1BO068W69yPNRf/Ljp36hFgFsX/iN5ohX9QTSAZRsNmQXKez6397M8dJH8DGDUP6j02U6SvvG56Pe+LAIdFtMX6mlUZ/tQcr+FoSdgrSbdZfornSL2rYbu3Xe+pH8cpZ6RxNp1KeNOtj4CD5m97n7SKsxFcUPTb6ALiwC3RbTC22rm+Vq1b/6131OeoKhV2I1XdIeItojmN9YjwX6pbceqhkjDuM+bac3P/7TJvERfMwuSSjQZJROoPaV/sSFRaDbMh6B9ObKDQyXbvXUv8wgZDZOjEB9gdyIUg2u5ujt6p/BCBTSG4Emo4xGIB8WgW7LcA5kT3Tc99q+1v/+XU+D7Ea7PPJoDlQFc6BRJIVZ5/1w6iKMu3z80TDKaA7kwyLQjemdhak3fu1ac6rke7HSvwXnNtofMekJ5H+Zy4Z0kcws2SdTHx5eBmdhvfm4D34+nqaj6DfdWdhLFxaBbk3vOtDJbtC9qS7PdKNOYyYpduPEdSAfwF8HcpGq8DqQXhW3MpsPP/6tYvmYvUTuOtBklKq7DmTeuLAIVCpJl7Lz/65VGSDQmFiBdPrecWlHIJBD32fQK+H/+ZVAXbLumNf0z90n03wfpUwQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQMT/AWfYqxQWIBGMAAAAAElFTkSuQmCC" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(by_year_total)</code></pre>
<pre><code>## [1] 1186.646</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">age_props &lt;-<span class="st"> </span><span class="kw">prevalence_by_age</span>(<span class="dt">dist =</span> post_age_dist_total, registry_end_year, N_years)
age_props</code></pre>
<pre><code>## [1] 0.002580662 0.031574684 0.048409819 0.095407639 0.132018775 0.165301627
## [7] 0.217609654 0.200383897 0.106713242</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(age_props)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">total_predictedyrs &lt;-<span class="st"> </span><span class="kw">sum</span>(by_year_total[registry_end_year:N_years]) *<span class="st"> </span>age_props
<span class="kw">sum</span>(total_predictedyrs)</code></pre>
<pre><code>## [1] 624.646</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(by_year_total[registry_end_year:N_years])</code></pre>
<pre><code>## [1] 624.646</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_samples_total &lt;-<span class="st"> </span>prevalence_total[[<span class="dv">3</span>]]
by_sample_total &lt;-<span class="st"> </span><span class="kw">apply</span>(by_year_samples_total, <span class="dv">2</span>, sum)
<span class="kw">summary</span>(by_sample_total)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    1140    1248    1278    1277    1306    1433</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">total3yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">3</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_total, <span class="dt">by_year =</span> by_year_total,
                             <span class="dt">population_size =</span> <span class="dv">3500000</span>)
total3yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 290&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 8.29 (7.33-9.24)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">total5yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">5</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_total, <span class="dt">by_year =</span> by_year_total,
                             <span class="dt">population_size =</span> <span class="dv">3500000</span>)
total5yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 400&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 11.43 (10.31-12.55)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">total10yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">10</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_total, <span class="dt">by_year =</span> by_year_total,
                             <span class="dt">population_size =</span> <span class="dv">3500000</span>)
total10yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 680.59&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 19.45 (17.98-20.91)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">total20yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">20</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_total, <span class="dt">by_year =</span> by_year_total,
                             <span class="dt">population_size =</span> <span class="dv">3500000</span>)
total20yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 1186.65&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 33.9 (31.79-36.02)&quot;</code></pre>
</div>
<div id="males" class="section level4">
<h4>Males</h4>
<pre class="sourceCode r"><code class="sourceCode r">prevalence_males &lt;-<span class="st"> </span><span class="kw">prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Males&quot;</span>), registry_years, registry_start_year, 
                               registry_end_year, N_years, 
                               <span class="dt">daily_survival_males =</span> daily_survival_males, 
                               <span class="dt">cure_time =</span> cure*<span class="dv">365</span>)</code></pre>
<pre><code>## Warning in incidence(data = data[data$sex == 1, ], registry_years,
## registry_start_year, : warning: low number of incident cases.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_males &lt;-<span class="st"> </span>prevalence_males[[<span class="dv">1</span>]]
by_year_males</code></pre>
<pre><code>##  [1] 45.199 29.908 43.837 26.667 23.060 29.822 31.793 23.871 26.766 25.903
## [11] 24.573 23.893 23.091 22.159 21.222 20.571 19.493 19.079 18.147 17.101</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prev_chisq</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Males&quot;</span>), registry_years, registry_start_year, registry_end_year, 
           <span class="dt">by_year =</span> by_year_males)</code></pre>
<pre><code>## [1] 0.9298367</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">post_age_dist_males &lt;-<span class="st"> </span>prevalence_males[[<span class="dv">2</span>]]
<span class="kw">hist</span>(post_age_dist_males, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r">observed &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Males&quot;</span>), registry_years, registry_start_year, 
                               registry_end_year)
by_year_males[<span class="dv">1</span>:(registry_end_year -<span class="st"> </span>registry_start_year +<span class="st"> </span><span class="dv">1</span>)] &lt;-<span class="st"> </span><span class="kw">rev</span>(observed)
observed_post_age_dist_males &lt;-<span class="st"> </span>
<span class="st">  </span>registry_data_r$age_initial[registry_data_r$indicator_censored_at_index ==<span class="st"> </span><span class="dv">0</span> &amp;<span class="st"> </span>
<span class="st">                                </span>registry_data_r$sex ==<span class="st"> </span><span class="dv">0</span>]
<span class="kw">hist</span>(observed_post_age_dist_males, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(by_year_males)</code></pre>
<pre><code>## [1] 512.998</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">age_props &lt;-<span class="st"> </span><span class="kw">prevalence_by_age</span>(<span class="dt">dist =</span> post_age_dist_males, registry_end_year, N_years)
age_props</code></pre>
<pre><code>## [1] 0.00000000 0.00000000 0.01910702 0.06572951 0.10532141 0.16877991
## [7] 0.28524645 0.23093306 0.12488263</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(age_props)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">males_predictedyrs &lt;-<span class="st"> </span><span class="kw">sum</span>(by_year_males[registry_end_year:N_years]) *<span class="st"> </span>age_props
<span class="kw">sum</span>(males_predictedyrs)</code></pre>
<pre><code>## [1] 261.998</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(by_year_males[registry_end_year:N_years])</code></pre>
<pre><code>## [1] 261.998</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_samples_males &lt;-<span class="st"> </span>prevalence_males[[<span class="dv">3</span>]]
by_sample_males &lt;-<span class="st"> </span><span class="kw">apply</span>(by_year_samples_males, <span class="dv">2</span>, sum)
<span class="kw">summary</span>(by_sample_males)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   443.0   501.0   516.0   516.2   532.0   589.0</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">males3yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">3</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_males, <span class="dt">by_year =</span> by_year_males,
                             <span class="dt">population_size =</span> <span class="dv">1700000</span>)
males3yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 112&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 6.59 (5.37-7.81)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">males5yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">5</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_males, <span class="dt">by_year =</span> by_year_males,
                             <span class="dt">population_size =</span> <span class="dv">1700000</span>)
males5yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 167&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 9.82 (8.33-11.31)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">males10yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">10</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_males, <span class="dt">by_year =</span> by_year_males,
                             <span class="dt">population_size =</span> <span class="dv">1700000</span>)
males10yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 303.67&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 17.86 (15.85-19.88)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">males20yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">20</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_males, <span class="dt">by_year =</span> by_year_males,
                             <span class="dt">population_size =</span> <span class="dv">1700000</span>)
males20yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 513&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 30.18 (27.57-32.78)&quot;</code></pre>
</div>
<div id="females" class="section level4">
<h4>Females</h4>
<pre class="sourceCode r"><code class="sourceCode r">prevalence_females &lt;-<span class="st"> </span><span class="kw">prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Females&quot;</span>), registry_years, registry_start_year, 
                               registry_end_year, N_years, 
                               <span class="dt">daily_survival_females =</span> daily_survival_females, 
                               <span class="dt">cure_time =</span> cure*<span class="dv">365</span>)</code></pre>
<pre><code>## Warning in incidence(data = data[data$sex == 0, ], registry_years,
## registry_start_year, : warning: low number of incident cases.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_females &lt;-<span class="st"> </span>prevalence_females[[<span class="dv">1</span>]]
by_year_females</code></pre>
<pre><code>##  [1] 120.179  67.648  44.353  38.277  32.057  31.825  31.564  33.313
##  [9]  33.245  32.682  32.220  31.771  31.453  30.575  30.188  29.670
## [17]  29.068  28.575  27.968  27.108</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prev_chisq</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Females&quot;</span>), registry_years, registry_start_year, registry_end_year, 
           <span class="dt">by_year =</span> by_year_females)</code></pre>
<pre><code>## [1] 0.002631126</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">post_age_dist_females &lt;-<span class="st"> </span>prevalence_females[[<span class="dv">2</span>]]
<span class="kw">hist</span>(post_age_dist_females, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAGACAMAAAByRC0tAAAAaVBMVEUAAAAAADoAAGYAOpAAZrY6AAA6ADo6AGY6OgA6kNtmAABmADpmkJBmtrZmtv+QOgCQOjqQZgCQkGaQtpCQ2/+2ZgC2Zma2tma225C2/7a2/9u2///bkDrb////tmb/25D//7b//9v////uUnY7AAAACXBIWXMAAA7DAAAOwwHHb6hkAAARSElEQVR4nO2di3aruBlGyW3aZFqn7cRtp4eQxO//kEUSAoEBIX4Bkr33WpPJUeRPAraFuBgXFwABxdEdgLxBIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEJCTQz3vx9Gn+/9z+w+Hfv2K3eC6KuqnFROjAuXj8tWDRAjo2krYr2Qj0/fYYW6Cq3kzF69LaUTowKtBVckjHEKilJ9AVatVHbrAsHj6W147SgdGQq8KQjiFQy9gIVKr3ovpFDep6PX+9dO/OuvDhQ6/+epX/8aJWu/6zWv3fb8WzeiefVIa7PdoAHdn8pQ75862wG9Jp47oDg6Q2wHZlagfU1phcNKemybVBI8vStm3XWtdoG7wLaQuk14Veu3YtNyWqYl1FrcS/dsVPn5X5c71m65Xu0G2fLqAvUPtCt8pIBzq6tnpdaRoeDCqmhi6fWrSWpmNd0PWydG2bNKfRLngX0hLI0gik3nl6Zb3acb5+45mV/6rLn/XaNgI1Tj3rSq96lb5e2vetnVG4Ac6ewqSYRKfKdQd63bVt9bpybjZ5fw7j1JhYNIeyGX9s0NWyOG0bgXp12+A9SFqgeg21q9as5XYnYbeUWmFGoJPNKXVAXW7emfVPs5WdmIvd7zkCnfq5+n/XHRhg2nK70qhTDmo7NSYWrZdqhlAbNL4sZe+dZuu6wXuQtEBNiV5hei3bvZxaw93O33HBZjw370Tzs1vpbkBfIL3W3dzm934Hxvr7fHG7oicnzs6xrftsQ8YXzaVsZ3PtzmywLIO2nbpu8B6kJdBwDmR3/qduQNfboR6hT/Z3VyC99sxfxgVyA0YEcnN1lWEH+t3tt2WqVEW7LZ3Kbo3xRXPRHXOCrpbFaVunuY06wXuQtkCX7phi0QhkTJkRKHAEuuqAg9PWYAQa2XRujfFFc7EjkA26WpZh24NG9zwOS1ugn3+obejMTKbnQHpr61GjnUSPCBQ4B7ruQIfT1mAONHYOeTgHmktu50A26GpZnLadKXmzGrvgPUhaIHM8ZA971daePgqzI5CZXkyNQIFHYdcd6HDaGhyFmV1ffwQYHoXNJbdHYTZobASybdujMFvXDd6DpAWy5zTU6qwK9zzQ82V4HqibA81Noi9uQF8gTbMjc6oMO+B2t603ch5oeC65a2Fq0TpKeyq0m9aMzIGcSbTbqBO8B2kLZA5FzMo9F3YMaieI+g19dRT28FG2u5JrgZyA/hzof+/tvMFp47oDbn+btnpdMVv3+v2vDDo5c6CZZPftoKqOH4WZtps0p1EneAcSEmgl5xiDdZwpQ5SuZEbGAp31RKZ+vwXckTGdJRIoZlcyI2OB7MmPGHv7hQK151sGrY52ZapyUHLyZCxQM3OMstcQCjTaFQQC8IJAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUBEmED2RqZdPzgCKRMkUGnvy6r2+9gIpE2IQD/v3Y2h93fnFIwSItD3W/vZkYqdGGgYgUBE4ByoGYKYA0FD2FGY/dgs4w80cB4IRCAQiAgTqGw/k8dRGGjCJtH6Y7b6I78IBJrww/ifd/XJbgQCzZoTieenTwQCw6oTiednBAJD2Byo0cY81Akg/CjM7MR+3hEINJwHAhEIBCK4IxFExLkjsXs2SbSOQR5Evh8Ige6NyHckItC9wQgEIiLfkYhA90bkOxIRyE8xytG9Wkvkjme7HnZkdB1lu+IQaHcQ6DJ9Q1m262FHEGi/uNxZPt3JdsUh0JYsdyXbmTUCbUmAQIsLEyPyxdQcFnlHEKiP//EuOSzyjiBQDy5lhIJAPbiYGgoC9WAECgWB+nAxNRAEGsDF1DAQ6OC43EGgg+NyB4EOjssdBDo4LncQ6OC43EGgg+NyB4EOjssdBDo4LncQ6OC43EGgg+NyRypQBvcpItCWbDICpbWOEWhLEOjguNxBoIPjcgeBDo7LHQQ6OC53EOjguNxBoIPjcgeBDo7LHQQ6OC53EOjguNxBoIPjcgeBDo7LHQQ6OC53EOjguNxBoIPjcgeBDo7LHQQ6OC53EOjguIwQPpAVgTaJy4gtXLkfgRK94Xsjdhts7kegreLSZDdXEOg2QSAHBAoHgRwQKBwEckCgcBDIAYHCQSAHBAoHgRwQKBwEckCgcBDIAYHCQSAHBAoHgRwQKBwEckCgcBDIAYHCQSAHBAoHgRwQKBwEckCgWY69dwyBsudYVxAoexDIBwLNgkA+EKgh4KnwCOSAQA0BGwuBHBCoAYHWgUANCLQOBGpAoHW0vfl+K54jxmUHAq3D6U1ZH3S8xovLDARaR783YofSWrgQEGgdw94ohR5/RYvLBwRaR683VW3P6fLz/vQ5Ufvn3Zxem1QsrYULAYHW0fWmnkUXxpxqyo/S7t+qqR1dWgsXAgKtwzkKe/jw1P15b7UpJwaptBYuBARaRyfQ78afyeFHOXayv07VSmvhJgj4LmQE8nElUDkt0K2MQNKNhUAOTW/O3Ttx5jC+LJohKO85UO4CLR9Ad+BqBJpFTbQVk4dpCLR5YUjVHYjcMAJtXohAh4NAETENf7+92r2T5Dw0Au1QmKRAqcZtAwJFJKThdpCaHqcQaPPCZAWqd2PqUurkAdZFnQjy7d8QaPPCZAU6P31+vTxfznO3lf28e246Q6DNC1MVSF2nqIrT3KWMy0XXWBSXMggUkZ5A51qemUsZIXEpg0ARcXZhz99vT5/fb6I7oxFo88JkBaqPsR4+vJOcxXEJg0ARCWv4Nu5IRKCIBDU8eUfi8ReFQ0CgiHQNe0cX7gdKojBZgc7ew6+buSNxcSECeXEO470fCGMESqEwXYHmTxEq8rsjUfjQHwTy0ja86AA+uzsS99tYdy+Q9ypFYFwaINDWOLuwW7yhDIG2ZmXDU1fMEGjzwtsQaKc4MQi0NU7D9U7s6fMse0IQAm1emKxA1cNHqa7G39TzgRBoa5zD+Fd9enD2fqDsLqYi0Nb0TiQqgebuSMzv8S4ItDVXI9B5+q76DC9lINDWDOdA5czpxAwvpiLQ1vSPwopi7ilTjEApFKYrkJ8ML6bKChHIS1jDXEw9vjBVgYwbc59LDYrbH+GdGwi0Dtvw2eydSuGz6o8UaINCBPLSNFzZyfPXi+imDgRKqU97YBp27iab/Wz8wrhDQKBDMA07V8Cy/WgzAh2CFch7ijAk7hAQ6BAQaK4Qgbwg0FwhAnlBoLlCBPJiBfI+/TAk7hAQ6BAiN4xAKfVpDxBorhCBvCDQXCECeUGguUIE8oJAc4UI5AWB5goRyAsCzRUikBcEmitEIC9ZCrTFzYcItI48BdqrEIG8INBcIQJ5QaC5QgTygkBzhQjkBYHmChHIS+oC7XbAhUDrSF6gQwsRyAsCzRVmJNDikToyCDRXmJFAy18fFwSaK0QgLwg0V4hAXhBorhCBvMRpY7tpW94bK8U+RYYRaK4Qgbwg0FwhAnlBoLlCBPKCQHOFCOQFgeYKEcgLAs0VIpAXBJorRCAvCDRXiEBeEGiuEIG8INBcIQJ5SUeg8Tta8t5YKfYpMgkJtLw0m42VYp8ig0AJN49A8pfmvbFS7FNkECjh5hFI/tK8N1aKfYoMAiXcPALJX5r3xkqxT5FBoISbRyD5S/PeWCn2KTIIlHDzCDRVa/nncPPeWCn2KTLHCLT8pXlvrBT7FBkESrh5BAqpleIWRCAvCJRw8wgUUivFLYhAXhAo4eYRKKRWilsQgbyEtfHz7vleVQRKqk87PPcuKK4sXs0vlf1lXVw2WzB3gZaHriYk7ue91aZ8+hTEZbMFEchLSNyCb5e/ihN+1OIWN1aKfVrP1iNQimsrm+ZvTaB6DtQMQcvnQCmurWyavzmB6p2Y2QVNjD8IlGuf1rN1XIprK5vmESjNtZVN87cnUPiJxBTXVjbN35xAK04kpri2smn+1gTiMD6FwowFWnUicXGjKW5BBPLCCJRw87cmECcSUyjMWSBOJCZQmLVA4XEprq1smt+mT3FvEkKghJs/uE+LCHslJxKPL8xZoMkTidND4fiACamxi0ALDuPh3ggRaMGJRLg3GIFAROQTiXBvRD6RCPdG5PNAcG8gEIhYKVC59Cjs2LMbsJR1Gly2H4E2yd8iNJuOJrb0CLRhZj6hCJRkZj6hyVxMFeYfGJpNRxNb+jgXUyPlLyWtVXgLoeleTL2DVXgLofsItOZi6h2swlsIZQRKMjOf0N3mQMEXU+9gFd5C6F5HYVxMhQFcCwMRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiNhUoKooHj4i5uk7al/jJ5/1xeGYmV8vRfF8iRxa1kt/ihn69Zdfvbg1uVsKVNW9qSJu55/3OqxUGyZucqXvLoiZWdWB32+RO1qqLGVQrNDvN31bYBu3KndDgcz9Z+fnaIFfL+r9Vz7+ipv8/aYEiplpsiJ39Of92WTFCq3MhyPauHW5GwrUbu+4sfV7JG5y+fTPWqCYmV+/NW/jmKGtQJFCq+JV35jcxq3L3VIgvRqjP4rqXC9qzOQ6TM2BYmZWj3++6cla1I7aXVi8UCOQjVuXu6FAZncacxKkU+sNEzNZDdxKoJiZpdo3qBEj7ipo5rjxQrUsbdy63NwEquwcOtrGruWJLtBD816Ougrqobfe38R8+yQu0Ba7MHM3f8RkHRV7F2bmEfWcImZoN1e5l13YBpPo5qOxEZPL5vEmp5i9NRuh3iBRQ+0AES808Ul09MP49mNFsZPPkQ/jzScwq7iH8Wb7Rg2t0j6Mj34iUU0ANkk+xz6RWFojY4baOVC80CrtE4l6/xBzCt3sblRk3GRzKSNmZmWvucQMPccObeY7bdyaXC6mgggEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCLuWqDq5K8z8qqHD+cL0AcpZeH7PuLea/PnngVauSkHD7DopXy/eb/OGoFuhk0E8kYiUGZ8/fbHS/d8e/OIvBfzTLL+95ef7YPg618e/tU8RGawQyrNn7QEIynqH4+/7Ou+Xv6uHtaqCk9dvn5t2evJDmthM+5AoJd6C5knvNc/1PPj9bO+6n/0xwL1aC79dEz1IKdKPShH/at7qJWu0/xJvXI0xdjRvO7rRT9ZXxlV/2fzVZWuRtOtfLkHgfRj458+zSPc1ONIm8cA9jf97x/mMXLmUXJnZYmu7zwz0PnT6TKe8na6tK/TLTc/Tm1+XaWtEf0h2vtzDwLpZwvah1OqbWm+I+J6NlKp3Un73Dcz1zGvav5u/2Q8GUnRZtnX6Zd2P5r8ukpbw2ZkzB0I9Fvv6aZqE+tv/TkNBKqnJY//rauUrUD2Aa5dFVeg0RQtUO/Br+0Pm68EapObjIy5O4HsiHIenM1pN/RgBHLpjUCjKd0I5Eb2hqN2BLKcIz/Lf1/uQCA9Bzo7cyBdrKci7ulA/dT2ws6ByoEZTdTwT8MUs287OdXtjzZ/+JLMj+vvQaD2e7aaozD7TNveWT8zOKhj695RWH98MN930kyix1LaozD1uqsRSOfbozBVo326br7cg0B/e+m+6U+ffamahwWf3fNA+hm3Z1NcPP5HDRjqbE1/luueBxpLMaNJ87qrOZDOb88DmSEp8pc67s49CLRmD3EDB9j7gECj9Rdc0wLNnQukLyUU/f1I1T92H63jT7kXbl8g2BQEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiPg/6MAbgjEVoh0AAAAASUVORK5CYII=" /></p>
<pre class="sourceCode r"><code class="sourceCode r">observed &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Females&quot;</span>), registry_years, registry_start_year, 
                               registry_end_year)
by_year_females[<span class="dv">1</span>:(registry_end_year -<span class="st"> </span>registry_start_year +<span class="st"> </span><span class="dv">1</span>)] &lt;-<span class="st"> </span><span class="kw">rev</span>(observed)
observed_post_age_dist_females &lt;-<span class="st"> </span>
<span class="st">  </span>registry_data_r$age_initial[registry_data_r$indicator_censored_at_index ==<span class="st"> </span><span class="dv">0</span> &amp;<span class="st"> </span>
<span class="st">                                </span>registry_data_r$sex ==<span class="st"> </span><span class="dv">1</span>]
<span class="kw">hist</span>(observed_post_age_dist_females, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(by_year_females)</code></pre>
<pre><code>## [1] 675.523</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">age_props &lt;-<span class="st"> </span><span class="kw">prevalence_by_age</span>(<span class="dt">dist =</span> post_age_dist_females, registry_end_year, N_years)
age_props</code></pre>
<pre><code>## [1] 0.004290539 0.054147475 0.069150643 0.113800775 0.150484332 0.162985600
## [7] 0.172145516 0.177837887 0.095157233</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(age_props)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">females_predictedyrs &lt;-<span class="st"> </span><span class="kw">sum</span>(by_year_females[registry_end_year:N_years]) *<span class="st"> </span>age_props
<span class="kw">sum</span>(females_predictedyrs)</code></pre>
<pre><code>## [1] 364.523</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(by_year_females[registry_end_year:N_years])</code></pre>
<pre><code>## [1] 364.523</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_samples_females &lt;-<span class="st"> </span>prevalence_females[[<span class="dv">3</span>]]
by_sample_females &lt;-<span class="st"> </span><span class="kw">apply</span>(by_year_samples_females, <span class="dv">2</span>, sum)
<span class="kw">summary</span>(by_sample_females)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   639.0   739.0   764.0   763.7   790.2   880.0</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">females3yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">3</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_females, <span class="dt">by_year =</span> by_year_females,
                             <span class="dt">population_size =</span> <span class="dv">1800000</span>)
females3yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 178&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 9.89 (8.44-11.34)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">females5yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">5</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_females, <span class="dt">by_year =</span> by_year_females,
                             <span class="dt">population_size =</span> <span class="dv">1800000</span>)
females5yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 233&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 12.94 (11.28-14.61)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">females10yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">10</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_females, <span class="dt">by_year =</span> by_year_females,
                             <span class="dt">population_size =</span> <span class="dv">1800000</span>)
females10yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 376.93&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 20.94 (18.81-23.07)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">females20yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">20</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_females, <span class="dt">by_year =</span> by_year_females,
                             <span class="dt">population_size =</span> <span class="dv">1800000</span>)
females20yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 675.52&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 37.53 (34.31-40.75)&quot;</code></pre>
</div>
<div id="adults" class="section level4">
<h4>Adults</h4>
<pre class="sourceCode r"><code class="sourceCode r">prevalence_adults &lt;-<span class="st"> </span><span class="kw">prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">age_division =</span> <span class="st">&quot;Adult&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                                registry_years, registry_start_year, registry_end_year, N_years, 
                                <span class="dt">daily_survival_males =</span> daily_survival_males, 
                                <span class="dt">daily_survival_females =</span> daily_survival_females, <span class="dt">cure_time =</span> cure*<span class="dv">365</span>)

by_year_adults &lt;-<span class="st"> </span>prevalence_adults[[<span class="dv">1</span>]]
by_year_adults</code></pre>
<pre><code>##  [1] 160.093  92.064  81.634  60.845  51.668  55.286  59.514  51.560
##  [9]  54.680  53.476  52.069  50.361  49.801  47.580  47.015  45.131
## [17]  43.706  42.051  40.573  39.320</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prev_chisq</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">age_division =</span> <span class="st">&quot;Adult&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), registry_years, 
           registry_start_year, registry_end_year, <span class="dt">by_year =</span> by_year_adults)</code></pre>
<pre><code>## [1] 0.01448538</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">post_age_dist_adults &lt;-<span class="st"> </span>prevalence_adults[[<span class="dv">2</span>]]
<span class="kw">hist</span>(post_age_dist_adults, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r">observed &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">age_division =</span> <span class="st">&quot;Adult&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                               registry_years, registry_start_year, registry_end_year)
by_year_adults[<span class="dv">1</span>:(registry_end_year -<span class="st"> </span>registry_start_year +<span class="st"> </span><span class="dv">1</span>)] &lt;-<span class="st"> </span><span class="kw">rev</span>(observed)
observed_post_age_dist_adults &lt;-<span class="st"> </span>
<span class="st">  </span>registry_data_r$age_initial[registry_data_r$indicator_censored_at_index ==<span class="st"> </span><span class="dv">0</span> &amp;<span class="st"> </span>
<span class="st">                              </span>registry_data_r$age_initial &gt;=<span class="st"> </span><span class="dv">20</span>]
<span class="kw">hist</span>(observed_post_age_dist_adults, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(by_year_adults)</code></pre>
<pre><code>## [1] 1089.763</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">age_props &lt;-<span class="st"> </span><span class="kw">prevalence_by_age</span>(<span class="dt">dist =</span> post_age_dist_adults, registry_end_year, N_years)
age_props</code></pre>
<pre><code>## [1] 0.000000000 0.000000000 0.001832923 0.070034626 0.149663375 0.187785345
## [7] 0.245972253 0.225995691 0.118715787</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(age_props)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_samples_adults &lt;-<span class="st"> </span>prevalence_adults[[<span class="dv">3</span>]]
by_sample_adults &lt;-<span class="st"> </span><span class="kw">apply</span>(by_year_samples_adults, <span class="dv">2</span>, sum)
<span class="kw">summary</span>(by_sample_adults)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    1030    1150    1178    1178    1206    1329</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">adults3yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">3</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_adults, <span class="dt">by_year =</span> by_year_adults,
                             <span class="dt">population_size =</span> <span class="dv">2550000</span>)
adults3yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 277&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 10.86 (9.58-12.14)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">adults5yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">5</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_adults, <span class="dt">by_year =</span> by_year_adults,
                             <span class="dt">population_size =</span> <span class="dv">2550000</span>)
adults5yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 380&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 14.9 (13.4-16.4)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">adults10yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">10</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_adults, <span class="dt">by_year =</span> by_year_adults,
                             <span class="dt">population_size =</span> <span class="dv">2550000</span>)
adults10yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 632.16&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 24.79 (22.85-26.73)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">adults20yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">20</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_adults, <span class="dt">by_year =</span> by_year_adults,
                             <span class="dt">population_size =</span> <span class="dv">2550000</span>)
adults20yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 1089.76&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 42.74 (39.98-45.49)&quot;</code></pre>
</div>
<div id="adult-male-cases" class="section level4">
<h4>Adult Male Cases</h4>
<pre class="sourceCode r"><code class="sourceCode r">prevalence_adultsm &lt;-<span class="st"> </span><span class="kw">prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Males&quot;</span>, <span class="dt">age_division =</span> <span class="st">&quot;Adult&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                                registry_years, registry_start_year, registry_end_year, N_years, 
                                <span class="dt">daily_survival_males =</span> daily_survival_males, <span class="dt">cure_time =</span> cure*<span class="dv">365</span>)</code></pre>
<pre><code>## Warning in incidence(data = data[data$sex == 1, ], registry_years,
## registry_start_year, : warning: low number of incident cases.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_adultsm &lt;-<span class="st"> </span>prevalence_adultsm[[<span class="dv">1</span>]]
by_year_adultsm</code></pre>
<pre><code>##  [1] 43.827 28.053 41.756 25.863 23.127 27.501 31.476 22.037 25.506 24.544
## [11] 23.665 22.719 21.870 20.966 20.000 19.217 18.556 17.593 16.828 16.181</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prev_chisq</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Males&quot;</span>, <span class="dt">age_division =</span> <span class="st">&quot;Adult&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), registry_years, 
           registry_start_year, registry_end_year, <span class="dt">by_year =</span> by_year_adultsm)</code></pre>
<pre><code>## [1] 0.9342015</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">post_age_dist_adultsm &lt;-<span class="st"> </span>prevalence_adultsm[[<span class="dv">2</span>]]
<span class="kw">hist</span>(post_age_dist_adultsm, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r">observed &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Males&quot;</span>, <span class="dt">age_division =</span> <span class="st">&quot;Adult&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                               registry_years, registry_start_year, registry_end_year)
by_year_adultsm[<span class="dv">1</span>:(registry_end_year -<span class="st"> </span>registry_start_year +<span class="st"> </span><span class="dv">1</span>)] &lt;-<span class="st"> </span><span class="kw">rev</span>(observed)
observed_post_age_dist_adultsm &lt;-<span class="st"> </span>
<span class="st">  </span>registry_data_r$age_initial[registry_data_r$indicator_censored_at_index ==<span class="st"> </span><span class="dv">0</span> &amp;<span class="st"> </span>
<span class="st">                              </span>registry_data_r$age_initial &gt;=<span class="st"> </span><span class="dv">20</span> &amp;<span class="st"> </span>
<span class="st">                              </span>registry_data_r$sex ==<span class="st"> </span><span class="dv">0</span>]
<span class="kw">hist</span>(observed_post_age_dist_adultsm, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(by_year_adultsm)</code></pre>
<pre><code>## [1] 488.645</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">age_props &lt;-<span class="st"> </span><span class="kw">prevalence_by_age</span>(<span class="dt">dist =</span> post_age_dist_adultsm, registry_end_year, N_years)
age_props</code></pre>
<pre><code>## [1] 0.0000000000 0.0000000000 0.0005370591 0.0362131277 0.1105857175
## [6] 0.1797048194 0.2993720850 0.2434856347 0.1301015567</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(age_props)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_samples_adultsm &lt;-<span class="st"> </span>prevalence_adultsm[[<span class="dv">3</span>]]
by_sample_adultsm &lt;-<span class="st"> </span><span class="kw">apply</span>(by_year_samples_adultsm, <span class="dv">2</span>, sum)
<span class="kw">summary</span>(by_sample_adultsm)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   415.0   474.8   491.5   491.3   507.0   577.0</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">adultsm3yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">3</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_adultsm, <span class="dt">by_year =</span> by_year_adultsm,
                             <span class="dt">population_size =</span> <span class="dv">1350000</span>)
adultsm3yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 107&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 7.93 (6.42-9.43)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">adultsm5yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">5</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_adultsm, <span class="dt">by_year =</span> by_year_adultsm,
                             <span class="dt">population_size =</span> <span class="dv">1350000</span>)
adultsm5yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 161&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 11.93 (10.08-13.77)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">adultsm10yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">10</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_adultsm, <span class="dt">by_year =</span> by_year_adultsm,
                             <span class="dt">population_size =</span> <span class="dv">1350000</span>)
adultsm10yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 291.05&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 21.56 (19.08-24.04)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">adultsm20yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">20</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_adultsm, <span class="dt">by_year =</span> by_year_adultsm,
                             <span class="dt">population_size =</span> <span class="dv">1350000</span>)
adultsm20yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 488.64&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 36.2 (32.94-39.46)&quot;</code></pre>
</div>
<div id="adult-female-cases" class="section level4">
<h4>Adult Female Cases</h4>
<pre class="sourceCode r"><code class="sourceCode r">prevalence_adultsf &lt;-<span class="st"> </span><span class="kw">prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Females&quot;</span>, <span class="dt">age_division =</span> <span class="st">&quot;Adult&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                                registry_years, registry_start_year, registry_end_year, N_years, 
                                <span class="dt">daily_survival_females =</span> daily_survival_females, <span class="dt">cure_time =</span> cure*<span class="dv">365</span>)</code></pre>
<pre><code>## Warning in incidence(data = data[data$sex == 0, ], registry_years,
## registry_start_year, : warning: low number of incident cases.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_adultsf &lt;-<span class="st"> </span>prevalence_adultsf[[<span class="dv">1</span>]]
by_year_adultsf</code></pre>
<pre><code>##  [1] 116.720  64.355  39.684  35.004  28.744  27.238  27.990  29.340
##  [9]  29.691  29.135  28.721  28.090  27.590  26.733  26.427  25.693
## [17]  25.053  24.474  23.854  22.870</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prev_chisq</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Females&quot;</span>, <span class="dt">age_division =</span> <span class="st">&quot;Adult&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), registry_years, 
           registry_start_year, registry_end_year, <span class="dt">by_year =</span> by_year_adultsf)</code></pre>
<pre><code>## [1] 0.001766909</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">post_age_dist_adultsf &lt;-<span class="st"> </span>prevalence_adultsf[[<span class="dv">2</span>]]
<span class="kw">hist</span>(post_age_dist_adultsf, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r">observed &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Females&quot;</span>, <span class="dt">age_division =</span> <span class="st">&quot;Adult&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                               registry_years, registry_start_year, registry_end_year)
by_year_adultsf[<span class="dv">1</span>:(registry_end_year -<span class="st"> </span>registry_start_year +<span class="st"> </span><span class="dv">1</span>)] &lt;-<span class="st"> </span><span class="kw">rev</span>(observed)
observed_post_age_dist_adultsf &lt;-<span class="st"> </span>
<span class="st">  </span>registry_data_r$age_initial[registry_data_r$indicator_censored_at_index ==<span class="st"> </span><span class="dv">0</span> &amp;<span class="st"> </span>
<span class="st">                              </span>registry_data_r$age_initial &gt;=<span class="st"> </span><span class="dv">20</span> &amp;<span class="st"> </span>
<span class="st">                              </span>registry_data_r$sex ==<span class="st"> </span><span class="dv">1</span>]
<span class="kw">hist</span>(observed_post_age_dist_adultsf, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(by_year_adultsf)</code></pre>
<pre><code>## [1] 601.331</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">age_props &lt;-<span class="st"> </span><span class="kw">prevalence_by_age</span>(<span class="dt">dist =</span> post_age_dist_adultsf, registry_end_year, N_years)
age_props</code></pre>
<pre><code>## [1] 0.000000000 0.000000000 0.002575935 0.095783948 0.178939531 0.195029702
## [7] 0.207557542 0.211123013 0.108990328</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(age_props)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_samples_adultsf &lt;-<span class="st"> </span>prevalence_adultsf[[<span class="dv">3</span>]]
by_sample_adultsf &lt;-<span class="st"> </span><span class="kw">apply</span>(by_year_samples_adultsf, <span class="dv">2</span>, sum)
<span class="kw">summary</span>(by_sample_adultsf)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   580.0   664.0   687.0   687.4   711.0   850.0</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">adultsf3yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">3</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_adultsf, <span class="dt">by_year =</span> by_year_adultsf,
                             <span class="dt">population_size =</span> <span class="dv">1200000</span>)
adultsf3yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 170&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 14.17 (12.04-16.3)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">adultsf5yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">5</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_adultsf, <span class="dt">by_year =</span> by_year_adultsf,
                             <span class="dt">population_size =</span> <span class="dv">1200000</span>)
adultsf5yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 219&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 18.25 (15.83-20.67)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">adultsf10yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">10</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_adultsf, <span class="dt">by_year =</span> by_year_adultsf,
                             <span class="dt">population_size =</span> <span class="dv">1200000</span>)
adultsf10yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 341.83&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 28.49 (25.44-31.53)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">adultsf20yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">20</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_adultsf, <span class="dt">by_year =</span> by_year_adultsf,
                             <span class="dt">population_size =</span> <span class="dv">1200000</span>)
adultsf20yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 601.33&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 50.11 (45.58-54.64)&quot;</code></pre>
</div>
<div id="paediatric-cases" class="section level4">
<h4>Paediatric Cases</h4>
<pre class="sourceCode r"><code class="sourceCode r">prevalence_paeds &lt;-<span class="st"> </span><span class="kw">prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">age_division =</span> <span class="st">&quot;Paediatric&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                                registry_years, registry_start_year, registry_end_year, N_years, 
                                <span class="dt">daily_survival_males =</span> daily_survival_males, 
                                <span class="dt">daily_survival_females =</span> daily_survival_females, <span class="dt">cure_time =</span> cure*<span class="dv">365</span>)</code></pre>
<pre><code>## Warning in incidence(data = data[data$sex == 0, ], registry_years,
## registry_start_year, : warning: low number of incident cases.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_paeds &lt;-<span class="st"> </span>prevalence_paeds[[<span class="dv">1</span>]]
by_year_paeds</code></pre>
<pre><code>##  [1] 3.540 4.443 7.131 2.330 4.160 9.827 3.453 6.845 5.111 5.059 5.080
## [12] 5.185 5.226 5.071 5.143 5.097 5.184 5.196 5.047 5.164</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prev_chisq</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">age_division =</span> <span class="st">&quot;Paediatric&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), registry_years, 
           registry_start_year, registry_end_year, <span class="dt">by_year =</span> by_year_paeds)</code></pre>
<pre><code>## Warning in counted_prevalence(data, registry_years, registry_start_year, :
## warning: low number of events.</code></pre>
<pre><code>## [1] 0.990008</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">post_age_dist_paeds &lt;-<span class="st"> </span>prevalence_paeds[[<span class="dv">2</span>]]
<span class="kw">hist</span>(post_age_dist_paeds, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r">observed &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">age_division =</span> <span class="st">&quot;Paediatric&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                               registry_years, registry_start_year, registry_end_year)</code></pre>
<pre><code>## Warning in counted_prevalence(load_data(registry_data, age_division =
## &quot;Paediatric&quot;, : warning: low number of events.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_paeds[<span class="dv">1</span>:(registry_end_year -<span class="st"> </span>registry_start_year +<span class="st"> </span><span class="dv">1</span>)] &lt;-<span class="st"> </span><span class="kw">rev</span>(observed)
observed_post_age_dist_paeds &lt;-<span class="st"> </span>
<span class="st">  </span>registry_data_r$age_initial[registry_data_r$indicator_censored_at_index ==<span class="st"> </span><span class="dv">0</span> &amp;<span class="st"> </span>
<span class="st">                              </span>registry_data_r$age_initial &lt;<span class="st"> </span><span class="dv">20</span>]
<span class="kw">hist</span>(observed_post_age_dist_paeds, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(by_year_paeds)</code></pre>
<pre><code>## [1] 99.563</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">age_props &lt;-<span class="st"> </span><span class="kw">prevalence_by_age</span>(<span class="dt">dist =</span> post_age_dist_paeds, registry_end_year, N_years)
age_props</code></pre>
<pre><code>## [1] 0.01829021 0.23403668 0.41650017 0.33117294 0.00000000 0.00000000
## [7] 0.00000000 0.00000000 0.00000000</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(age_props)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_samples_paeds &lt;-<span class="st"> </span>prevalence_paeds[[<span class="dv">3</span>]]
by_sample_paeds &lt;-<span class="st"> </span><span class="kw">apply</span>(by_year_samples_paeds, <span class="dv">2</span>, sum)
<span class="kw">summary</span>(by_sample_paeds)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    69.0    96.0   103.0   103.3   111.0   144.0</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">paeds3yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">3</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_paeds, <span class="dt">by_year =</span> by_year_paeds,
                             <span class="dt">population_size =</span> <span class="dv">950000</span>)
paeds3yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 13&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 1.37 (0.62-2.11)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">paeds5yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">5</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_paeds, <span class="dt">by_year =</span> by_year_paeds,
                             <span class="dt">population_size =</span> <span class="dv">950000</span>)
paeds5yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 20&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 2.11 (1.18-3.03)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">paeds10yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">10</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_paeds, <span class="dt">by_year =</span> by_year_paeds,
                             <span class="dt">population_size =</span> <span class="dv">950000</span>)
paeds10yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 48.17&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 5.07 (3.62-6.52)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">paeds20yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">20</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_paeds, <span class="dt">by_year =</span> by_year_paeds,
                             <span class="dt">population_size =</span> <span class="dv">950000</span>)
paeds20yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 99.56&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 10.48 (8.25-12.71)&quot;</code></pre>
</div>
<div id="male-paediatric-cases" class="section level4">
<h4>Male Paediatric Cases</h4>
<pre class="sourceCode r"><code class="sourceCode r">prevalence_paedsm &lt;-<span class="st"> </span><span class="kw">prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Males&quot;</span>, <span class="dt">age_division =</span> <span class="st">&quot;Paediatric&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                                registry_years, registry_start_year, registry_end_year, N_years, 
                                <span class="dt">daily_survival_males =</span> daily_survival_males, <span class="dt">cure_time =</span> cure*<span class="dv">365</span>)</code></pre>
<pre><code>## Error in coxph.wtest(t(x) %*% (wt * x), c((wt * eta + weights * deriv$dg) %*% : NA/NaN/Inf in foreign function call (arg 3)</code></pre>
<p><em>This indicates that the simulation may have failed due to lack of events. However, the rest of the calculations do proceed:</em></p>
</div>
<div id="female-paediatric-cases" class="section level4">
<h4>Female Paediatric Cases</h4>
<pre class="sourceCode r"><code class="sourceCode r">prevalence_paedsf &lt;-<span class="st"> </span><span class="kw">prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Females&quot;</span>, <span class="dt">age_division =</span> <span class="st">&quot;Paediatric&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                                registry_years, registry_start_year, registry_end_year, N_years, 
                                <span class="dt">daily_survival_females =</span> daily_survival_females, <span class="dt">cure_time =</span> cure*<span class="dv">365</span>)</code></pre>
<pre><code>## Warning in incidence(data = data[data$sex == 0, ], registry_years,
## registry_start_year, : warning: low number of incident cases.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_paedsf &lt;-<span class="st"> </span>prevalence_paedsf[[<span class="dv">1</span>]]
by_year_paedsf</code></pre>
<pre><code>##  [1] 2.604 2.378 5.179 1.358 4.228 7.893 3.540 5.035 3.857 3.896 3.841
## [12] 3.935 3.876 3.823 3.877 3.925 3.973 3.772 3.906 3.773</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prev_chisq</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Females&quot;</span>, <span class="dt">age_division =</span> <span class="st">&quot;Paediatric&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), registry_years, 
           registry_start_year, registry_end_year, <span class="dt">by_year =</span> by_year_paedsf)</code></pre>
<pre><code>## Warning in counted_prevalence(data, registry_years, registry_start_year, :
## warning: low number of events.</code></pre>
<pre><code>## [1] 0.9676211</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">post_age_dist_paedsf &lt;-<span class="st"> </span>prevalence_paedsf[[<span class="dv">2</span>]]
<span class="kw">hist</span>(post_age_dist_paedsf, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r">observed &lt;-<span class="st"> </span><span class="kw">counted_prevalence</span>(<span class="kw">load_data</span>(registry_data, <span class="dt">sex =</span> <span class="st">&quot;Females&quot;</span>, <span class="dt">age_division =</span> <span class="st">&quot;Paediatric&quot;</span>, <span class="dt">age_cut =</span> <span class="dv">20</span>), 
                               registry_years, registry_start_year, registry_end_year)</code></pre>
<pre><code>## Warning in counted_prevalence(load_data(registry_data, sex = &quot;Females&quot;, :
## warning: low number of events.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_paedsf[<span class="dv">1</span>:(registry_end_year -<span class="st"> </span>registry_start_year +<span class="st"> </span><span class="dv">1</span>)] &lt;-<span class="st"> </span><span class="kw">rev</span>(observed)
observed_post_age_dist_paedsf &lt;-<span class="st"> </span>
<span class="st">  </span>registry_data_r$age_initial[registry_data_r$indicator_censored_at_index ==<span class="st"> </span><span class="dv">0</span> &amp;<span class="st"> </span>
<span class="st">                              </span>registry_data_r$age_initial &lt;<span class="st"> </span><span class="dv">20</span> &amp;<span class="st"> </span>
<span class="st">                              </span>registry_data_r$sex ==<span class="st"> </span><span class="dv">1</span>]
<span class="kw">hist</span>(observed_post_age_dist_paedsf, <span class="dt">prob =</span> <span class="ot">TRUE</span>)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(by_year_paedsf)</code></pre>
<pre><code>## [1] 74.454</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">age_props &lt;-<span class="st"> </span><span class="kw">prevalence_by_age</span>(<span class="dt">dist =</span> post_age_dist_paedsf, registry_end_year, N_years)
age_props</code></pre>
<pre><code>## [1] 0.02484178 0.30972575 0.42917725 0.23625522 0.00000000 0.00000000
## [7] 0.00000000 0.00000000 0.00000000</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(age_props)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">by_year_samples_paedsf &lt;-<span class="st"> </span>prevalence_paedsf[[<span class="dv">3</span>]]
by_sample_paedsf &lt;-<span class="st"> </span><span class="kw">apply</span>(by_year_samples_paedsf, <span class="dv">2</span>, sum)
<span class="kw">summary</span>(by_sample_paedsf)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   43.00   71.00   78.50   78.67   86.00  110.00</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">paedsf3yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">3</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_paedsf, <span class="dt">by_year =</span> by_year_paedsf,
                             <span class="dt">population_size =</span> <span class="dv">450000</span>)
paedsf3yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 8&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 1.78 (0.55-3.01)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">paedsf5yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">5</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_paedsf, <span class="dt">by_year =</span> by_year_paedsf,
                             <span class="dt">population_size =</span> <span class="dv">450000</span>)
paedsf5yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 14&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 3.11 (1.48-4.74)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">paedsf10yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">10</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_paedsf, <span class="dt">by_year =</span> by_year_paedsf,
                             <span class="dt">population_size =</span> <span class="dv">450000</span>)
paedsf10yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 35.75&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 7.95 (5.33-10.56)&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">paedsf20yr &lt;-<span class="st"> </span><span class="kw">n_year_estimates</span>(<span class="dt">N_years =</span> <span class="dv">20</span>, <span class="dt">registry_start_year =</span> registry_start_year, 
                             <span class="dt">registry_end_year =</span> registry_end_year, 
                             <span class="dt">the_samples =</span> by_year_samples_paedsf, <span class="dt">by_year =</span> by_year_paedsf,
                             <span class="dt">population_size =</span> <span class="dv">450000</span>)
paedsf20yr</code></pre>
<pre><code>## [[1]]
## [1] &quot;raw: 74.45&quot;
## 
## [[2]]
## [1] &quot;/100,000 cases: 16.55 (12.39-20.7)&quot;</code></pre>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
